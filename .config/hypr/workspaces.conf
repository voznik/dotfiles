## https://www.hyprflux.dev/hyprland/windowrules.html#customization-examples
## https://www.hyprflux.dev/hyprland/windowrules.html#configuration-structure

# -----------------------------------------------------
# Tagging Rules (Converted to unified block style)
# -----------------------------------------------------

# Browsers
windowrule {
    name = browser-tagging
    match:class = ^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr|[Ff]irefox-bin)$
    tag = browser
}

windowrule {
    name = browser-tagging
    match:class = ^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
    tag = browser
}

windowrule {
    name = browser-tagging
    match:class = ^(chrome-.+-Default)$
    tag = browser
}

windowrule {
    name = browser-tagging
    match:class = ^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
    tag = browser
}

windowrule {
    name = browser-tagging
    match:class = ^(Brave-browser(-beta|-dev|-unstable)?)$
    tag = browser
}

# Notifications
windowrule {
    name = notif-tagging
    match:class = ^(swaync-control-center|swaync-notification-window|swaync-client|class)$
    tag = notif
}

# Terminal
windowrule {
    name = terminal-tagging
    match:class = ^(com.mitchellh.ghostty|kitty|Alacritty)$
    tag = terminal
}

# Email
windowrule {
    name = email-tagging
    match:class = ^([Tt]hunderbird|org.gnome.Evolution)$
    tag = email
}

windowrule {
    name = email-tagging
    match:class = ^(eu.betterbird.Betterbird)$
    tag = email
}

# Code / Projects
windowrule {
    name = code-tagging
    match:class = ^(vscodium|vscodium-url-handler|VSCodium)$
    tag = code
}

windowrule {
    name = code-tagging
    match:class = ^(Cursor|code|VSCode|code-url-handler)$
    tag = code
}

windowrule {
    name = code-tagging
    match:class = ^(dev.zed.Zed)$
    tag = code
}

# Settings / System
windowrule {
    name = settings-tagging
    match:class = ^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
    tag = settings
}

windowrule {
    name = settings-tagging
    match:class = ^(qt5ct|qt6ct|[Yy]ad)$
    tag = settings
}

windowrule {
    name = settings-tagging
    match:class = ^(nwg-*)
    tag = settings
}

windowrule {
    name = settings-tagging
    match:class = ^(com.network.manager|nm-connection-.*)
    tag = settings
}

windowrule {
    name = settings-tagging
    match:title = (Bluetooth Devices)
    tag = settings
}

# Garuda Specific
windowrule {
    name = garuda-tagging
    match:class = ^(garuda-.*)$
    tag = garuda
}


# -----------------------------------------------------
# Workspace Rules (Monitor/Workspace Behavior)
# -----------------------------------------------------

# Assign Apps to Workspaces
windowrule {
    name = ghostty-workspace
    match:class = ^(com.mitchellh.ghostty)$
    workspace = 1
}

windowrule {
    name = brave-workspace
    match:class = ^(Brave-browser)$
    workspace = 2
}

windowrule {
    name = vscode-workspace
    match:class = ^(vscode|vscodium|Cursor)$
    workspace = 3
}

windowrule {
    name = zed-workspace
    match:class = ^(dev.zed.Zed)$
    workspace = 4
}

windowrule {
    name = communication-workspace
    match:class = ^([Dd]iscord|[Ss]lack|[Ff]erdium)$
    workspace = 5
}

windowrule {
    name = telegram-workspace
    match:class = ^(Telegram)$
    match:title = ^(Telegram)$
    workspace = 5
}

windowrule {
    name = filemanager-workspace
    match:class = ^([Tt]hunar|doublecmd)$
    workspace = 6
}

windowrule {
    name = garuda-workspace
    match:tag = garuda
    workspace = 7
}

# Workspace Configurations
workspace = 1, on-created-empty:ghostty
workspace = 2, on-created-empty:brave
workspace = 3, rounding:false, decorate:false
workspace = 4, rounding:false, decorate:false
workspace = 5, on-created-empty:ferdium, name:communication
workspace = 7, bordersize:4


# -----------------------------------------------------
# Application Specific Object-Rules (V3 Syntax)
# -----------------------------------------------------

# -- Code Editors: Quick Open Dialogs --
windowrule {
    name = code-quick-open
    match:class = ^(code|codium|cursor)$
    match:title = ^(Quick Open)$

    float = true
    size = 50% 75%
}

# -- Telegram: File Chooser --
# Unified your conflicting size rules here (removed the 75% redundancy)
windowrule {
    name = telegram-chooser
    match:class = telegram
    match:title = ^(Choose Files)$

    float = true
    center = true
    size = 50% 75%
}

# -- Ferdium: Main Window --
# Note: You had this set to float. If you want it tiled, remove 'float' and 'center'.
windowrule {
    name = ferdium-main
    match:class = ^(Ferdium)$

    float = true
    center = true
    size = 80% 75%
}

# -- Discord --
windowrule {
    name = discord-main
    match:class = ^(discord)$

    opacity = 0.95
    size = 70% 80%
}

# -- DoubleCMD: Dialogs (Negative Match) --
# Matches windows that DO NOT have "Commander" in the title
windowrule {
    name = doublecmd-dialogs
    match:class = doublecmd
    match:title = ^(?!.*Commander).*$

    float = true
    size = 50% 75%
    opacity = 1 override
}

# -- Thunar: Dialogs --
# Matches windows that DO NOT have "Thunar" in the title (File operation dialogs)
windowrule {
    name = thunar-dialogs
    match:class = [Tt]hunar
    match:title = ^(?!.*[Tt]hunar).*$

    center = true
}

# -- Garuda Tagged Apps --
windowrule {
    name = garuda-apps
    match:tag = garuda

    float = true
    center = true
}

# -- Settings Tagged Apps --
windowrule {
    name = settings-apps
    match:tag = settings

    float = true
    center = true
    size = 45% 75%
}
