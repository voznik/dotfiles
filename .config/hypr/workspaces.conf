## https://www.hyprflux.dev/hyprland/windowrules.html#customization-examples
## https://www.hyprflux.dev/hyprland/windowrules.html#configuration-structure

# -----------------------------------------------------
# Tagging Rules (Best kept as v2 one-liners for lists)
# -----------------------------------------------------

# Browsers
windowrulev2 = tag +browser, class:^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr|[Ff]irefox-bin)$
windowrulev2 = tag +browser, class:^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
windowrulev2 = tag +browser, class:^(chrome-.+-Default)$
windowrulev2 = tag +browser, class:^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
windowrulev2 = tag +browser, class:^(Brave-browser(-beta|-dev|-unstable)?)$

# Notifications
windowrulev2 = tag +notif, class:^(swaync-control-center|swaync-notification-window|swaync-client|class)$

# Terminal
windowrulev2 = tag +terminal, class:^(com.mitchellh.ghostty|kitty|Alacritty)$

# Email
windowrulev2 = tag +email, class:^([Tt]hunderbird|org.gnome.Evolution)$
windowrulev2 = tag +email, class:^(eu.betterbird.Betterbird)$

# Code / Projects
windowrulev2 = tag +code, class:^(vscodium|vscodium-url-handler|VSCodium)$
windowrulev2 = tag +code, class:^(Cursor|code|VSCode|code-url-handler)$
windowrulev2 = tag +code, class:^(dev.zed.Zed)$

# Settings / System
windowrulev2 = tag +settings, class:^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
windowrulev2 = tag +settings, class:^(qt5ct|qt6ct|[Yy]ad)$
windowrulev2 = tag +settings, class:^(nwg-*)
windowrulev2 = tag +settings, class:^(com.network.manager|nm-connection-.*)
windowrulev2 = tag +settings, title:(Bluetooth Devices)

# Garuda Specific
windowrulev2 = tag +garuda, class:^(garuda-.*)$


# -----------------------------------------------------
# Workspace Rules (Monitor/Workspace Behavior)
# -----------------------------------------------------

# Assign Apps to Workspaces
windowrulev2 = workspace 1, class:^(com.mitchellh.ghostty)$
windowrulev2 = workspace 2, class:^(Brave-browser)$
windowrulev2 = workspace 3, class:^(vscode|vscodium|Cursor)$
windowrulev2 = workspace 4, class:^(dev.zed.Zed)$
windowrulev2 = workspace 5, class:^(discord|slack|Ferdium)$
windowrulev2 = workspace 5, class:^(Telegram)$, title:^(Telegram)$
windowrulev2 = workspace 6, class:^([Tt]hunar|doublecmd)$
windowrulev2 = workspace 7, tag:garuda

# Workspace Configurations
workspace = 1, on-created-empty:ghostty
workspace = 2, on-created-empty:brave
workspace = 3, rounding:false, decorate:false
workspace = 4, rounding:false, decorate:false
workspace = 5, on-created-empty:ferdium, name:communication
workspace = 7, bordersize:4


# -----------------------------------------------------
# Application Specific Object-Rules (V3 Syntax)
# -----------------------------------------------------

# -- Code Editors: Quick Open Dialogs --
windowrule {
    name = code-quick-open
    match:class = ^(code|codium|cursor)$
    match:title = ^(Quick Open)$

    float = true
    size = 50% 75%
}

# -- Telegram: File Chooser --
# Unified your conflicting size rules here (removed the 75% redundancy)
windowrule {
    name = telegram-chooser
    match:class = telegram
    match:title = ^(Choose Files)$

    float = true
    center = true
    size = 50% 75%
}

# -- Ferdium: Main Window --
# Note: You had this set to float. If you want it tiled, remove 'float' and 'center'.
windowrule {
    name = ferdium-main
    match:class = ^(Ferdium)$

    float = true
    center = true
    size = 80% 75%
}

# -- Discord --
windowrule {
    name = discord-main
    match:class = ^(discord)$

    opacity = 0.95
    size = 70% 80%
}

# -- DoubleCMD: Dialogs (Negative Match) --
# Matches windows that DO NOT have "Commander" in the title
windowrule {
    name = doublecmd-dialogs
    match:class = doublecmd
    match:title = ^(?!.*Commander).*$

    float = true
    size = 50% 75%
    opacity = 1 override
}

# -- Thunar: Dialogs --
# Matches windows that DO NOT have "Thunar" in the title (File operation dialogs)
windowrule {
    name = thunar-dialogs
    match:class = [Tt]hunar
    match:title = ^(?!.*[Tt]hunar).*$

    center = true
}

# -- Garuda Tagged Apps --
windowrule {
    name = garuda-apps
    match:tag = garuda

    float = true
    center = true
}

# -- Settings Tagged Apps --
windowrule {
    name = settings-apps
    match:tag = settings

    float = true
    center = true
    size = 45% 75%
}
